.\" section 8 man page for mkiocccentry_test.sh
.\"
.\" This man page was first written by Cody Boone Ferguson for the IOCCC
.\" in 2022.
.\"
.\" Humour impairment is not virtue nor is it a vice, it's just plain
.\" wrong: almost as wrong as JSON spec mis-features and C++ obfuscation! :-)
.\"
.\" "Share and Enjoy!"
.\"     --  Sirius Cybernetics Corporation Complaints Division, JSON spec department. :-)
.\"
.TH mkiocccentry_test.sh 8 "07 February 2025" "mkiocccentry_test.sh" "IOCCC tools"
.SH NAME
.B mkiocccentry_test.sh
\- run several invocations of
.BR mkiocccentry (1)
to test that it functions well
.SH SYNOPSIS
.B mkiocccentry_test.sh
.RB [\| \-h \|]
.RB [\| \-V \|]
.RB [\| \-v
.IR level \|]
.RB [\| \-J
.IR level \|]
.RB [\| \-t
.IR tar \|]
.RB [\| \-T
.IR txzchk \|]
.RB [\| \-l
.IR ls \|]
.RB [\| \-F
.IR fnamchk \|]
.RB [\| \-m
.IR make \|]
.RB [\| \-Z
.IR topdir \|]
.SH DESCRIPTION
.B mkiocccentry_test.sh
runs a series of invocations of
.BR mkiocccentry ,
testing various types of inputs including multiple authors some of which have non\-ASCII characters in their name.
.SH OPTIONS
.TP
.B \-h
Print help and exit.
.TP
.B \-V
Print version and exit.
.TP
.BI \-v\  level
Set verbosity level to
.I level
(def: 0).
.TP
.BI \-J\  level
Set JSON verbosity level to
.IR level .
.TP
.BI \-t\  tar
Set path to
.BR tar (1).
The
.BR tar (1)
command must support the
.B \-J
option and the
.B v7
format.
.TP
.BI \-T\  txzchk
Set path to
.BR txzchk (1).
.TP
.BI \-l\  ls
Set path to
.BR ls (1).
.TP
.BI \-F\  fnamchk
Set path to
.BR fnamchk (1).
.TP
.BI \-m\  make
Set path to
.BR make (1).
The
.BR make (1)
command must be compatible with GNU Makefiles.
.TP
.BI \-Z\  topdir
Declare the top level directory of this repository.
The
.B topdir
directory must contain the source file
.IR mkiocccentry.c .
By default, the source file
.I mkiocccentry.c
is searched for in the current directory and then the parent of current directory.
.sp 1
If
.BI \-Z\  topdir
is used on the command line, then the source file
.I mkiocccentry.c
need not exist in the
.B topdir
directory.
If
.BI \-Z\   topdir
is not used on the command line, and the source file
.I mkiocccentry.c
is not found in the current directory or the parent of current directory, then this command exits as if there was a command line error.
.sp 1
Once the
.B topdir
directory is established, this command moves to that directory.
.SH EXIT STATUS
.TP
0
all tests are OK
.TQ
2
\-h and help string printed or \-V and version string printed
.TQ
3
command line usage error
.TQ
9
.I workdir
or
.I src_dir
not found or
.B mkiocccentry
not executable.
.TQ
\(>= 10
.B mkiocccentry
error code.
.SH BUGS
.PP
This script does not let one set the path to some of the needed tools like the other scripts do and so requires that one is in the clone of the repo directory to successfully run this script.
.SH SEE ALSO
.BR ioccc_test (8),
.BR iocccsize_test (8)
